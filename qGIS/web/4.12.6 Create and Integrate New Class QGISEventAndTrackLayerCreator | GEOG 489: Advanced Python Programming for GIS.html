<!DOCTYPE html>
<html dir="ltr" class="js" lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Generator" content="Drupal 7 (http://drupal.org)">
<link rel="canonical" href="https://www.e-education.psu.edu/geog489/node/2325">
<link rel="shortlink" href="https://www.e-education.psu.edu/geog489/node/2325">
<link rel="prev" href="https://www.e-education.psu.edu/geog489/node/2322">
<link rel="up" href="https://www.e-education.psu.edu/geog489/node/2316">
<link rel="next" href="https://www.e-education.psu.edu/geog489/node/2359">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>4.12.6 Create and Integrate New Class QGISEventAndTrackLayerCreator | GEOG 489: Advanced Python Programming for GIS</title>  
  <style type="text/css" media="all">
@import url("https://www.e-education.psu.edu/geog489/modules/system/system.base.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/system/system.menus.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/system/system.messages.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/system/system.theme.css?psbola");
</style>
<style type="text/css" media="all">
@import url("https://www.e-education.psu.edu/geog489/modules/book/book.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/field/theme/field.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/node/node.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/quiz/quiz.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/search/search.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/modules/user/user.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/extlink/extlink.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/views/css/views.css?psbola");
</style>
<link type="text/css" rel="stylesheet" href="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/css.css" media="all">
<link type="text/css" rel="stylesheet" href="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/css_003.css" media="all">
<link type="text/css" rel="stylesheet" href="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/css_002.css" media="all">
<style type="text/css" media="all">
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/hidden_nodes/hidden_nodes.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/ctools/css/ctools.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/libraries/syntaxhighlighter_3.0.83/styles/shCore.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/libraries/syntaxhighlighter_3.0.83/styles/shThemeDefault.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/taxonomy_access/taxonomy_access.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/print/print_ui/css/print_ui.theme.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/modules/responsive_menus/styles/responsive_menus_simple/css/responsive_menus_simple.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/libraries/superfish/css/superfish.css?psbola");
</style>
<style type="text/css" media="all">
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/alpha-reset.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/alpha-mobile.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/alpha-alpha.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/formalize.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/omega-text.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/omega-branding.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/omega-menu.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/omega-forms.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/omega/css/omega-visuals.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/global.css?psbola");
</style>

<!--[if (lt IE 9)&(!IEMobile)]>
<style type="text/css" media="all">
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default-normal.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?psbola");
</style>
<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)">
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default-narrow.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/grid/alpha_default/narrow/alpha-default-narrow-12.css?psbola");
</style>
<!--<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)">
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/gis/css/gis-alpha-default-normal.css?psbola");
@import url("https://www.e-education.psu.edu/geog489/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?psbola");
</style>
<!--<![endif]-->
  <script async="" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/analytics.js"></script><script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/jquery.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/jquery-extend-3.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/jquery_003.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/drupal.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shCore.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushBash.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushJScript.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushJson.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushPhp.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushPowerShell.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushPython.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/shBrushVb.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/extlink.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/printable_links.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/toggler.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/responsive_menus_simple.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/googleanalytics.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-24504751-35", {"cookieDomain":"auto"});ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/jquery_002.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/sfsmallscreen.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/supposition.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/superfish.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/supersubs.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/superfish_002.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/lti.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/h5p-resizer.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/jquery_004.js"></script>
<script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/omega-mediaqueries.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/geog489\/","pathPrefix":"","ajaxPageState":{"theme":"gis","theme_token":"iUslWKgHNlKtMDfdOHidcDf40k1Ne-3HB5u9DkN2CG0","js":{"sites\/all\/modules\/syntaxhighlighter\/syntaxhighlighter.min.js":1,"sites\/all\/modules\/jquery_update\/replace\/jquery\/1.7\/jquery.min.js":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shCore.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushBash.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushJScript.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushJson.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushPhp.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushPowerShell.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushPython.js":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/scripts\/shBrushVb.js":1,"sites\/all\/modules\/extlink\/extlink.js":1,"sites\/all\/modules\/custom_js_libraries\/printable_links\/printable_links.js":1,"sites\/all\/modules\/custom_js_libraries\/toggler\/toggler.js":1,"sites\/all\/modules\/responsive_menus\/styles\/responsive_menus_simple\/js\/responsive_menus_simple.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/sfsmallscreen.js":1,"sites\/all\/libraries\/superfish\/supposition.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/modules\/superfish\/superfish.js":1,"sites\/all\/themes\/gis\/lti.js":1,"sites\/all\/themes\/gis\/..\/..\/modules\/h5p\/library\/js\/h5p-resizer.js":1,"sites\/all\/themes\/omega\/omega\/js\/jquery.formalize.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-mediaqueries.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/book\/book.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/quiz\/quiz.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/extlink\/extlink.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"https:\/\/fonts.googleapis.com\/css?family=Inconsolata:regular,700\u0026subset=latin-ext":1,"https:\/\/fonts.googleapis.com\/css?family=Open+Sans:300,regular,600,700\u0026subset=latin-ext":1,"https:\/\/fonts.googleapis.com\/css?family=PT+Serif\u0026subset=latin-ext":1,"sites\/all\/modules\/hidden_nodes\/hidden_nodes.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/styles\/shCore.css":1,"sites\/all\/libraries\/syntaxhighlighter_3.0.83\/styles\/shThemeDefault.css":1,"sites\/all\/modules\/taxonomy_access\/taxonomy_access.css":1,"sites\/all\/modules\/print\/print_ui\/css\/print_ui.theme.css":1,"sites\/all\/modules\/responsive_menus\/styles\/responsive_menus_simple\/css\/responsive_menus_simple.css":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/themes\/gis\/print.css":1,"public:\/\/google_fonts.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-reset.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-mobile.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-alpha.css":1,"sites\/all\/themes\/omega\/omega\/css\/formalize.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-text.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-branding.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-menu.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-forms.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-visuals.css":1,"sites\/all\/themes\/gis\/css\/global.css":1,"ie::normal::sites\/all\/themes\/gis\/css\/gis-alpha-default.css":1,"ie::normal::sites\/all\/themes\/gis\/css\/gis-alpha-default-normal.css":1,"ie::normal::sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"narrow::sites\/all\/themes\/gis\/css\/gis-alpha-default.css":1,"narrow::sites\/all\/themes\/gis\/css\/gis-alpha-default-narrow.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/narrow\/alpha-default-narrow-12.css":1,"normal::sites\/all\/themes\/gis\/css\/gis-alpha-default.css":1,"normal::sites\/all\/themes\/gis\/css\/gis-alpha-default-normal.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1}},"responsive_menus":[{"toggler_text":"\u2630 Menu","selectors":["#main-menu","#superfish-1"],"media_size":"720","media_unit":"px","absolute":"1","remove_attributes":"1","responsive_menus_style":"responsive_menus_simple"}],"extlink":{"extTarget":"_blank","extClass":"ext","extLabel":"(link is external)","extImgClass":0,"extIconPlacement":"append","extSubdomains":0,"extExclude":"","extInclude":"","extCssExclude":"","extCssExplicit":"","extAlert":0,"extAlertText":"This link will take you to an external web site.","mailtoClass":"mailto","mailtoLabel":"(link sends e-mail)"},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"superfish":{"1":{"id":"1","sf":{"delay":"0","animation":{"opacity":"show","height":"show"},"speed":"\u0027fast\u0027","autoArrows":false,"dropShadows":false,"disableHI":false},"plugins":{"smallscreen":{"mode":"window_width","addSelected":false,"menuClasses":false,"hyperlinkClasses":false,"title":"Main menu"},"supposition":true,"bgiframe":false,"supersubs":{"minWidth":"12","maxWidth":"27","extraWidth":1}}}},"urlIsAjaxTrusted":{"\/geog489\/node\/2325":true},"omega":{"layouts":{"primary":"normal","order":["narrow","normal"],"queries":{"narrow":"all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)","normal":"all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)"}}}});
//--><!]]>
</script>
  <!--[if lt IE 9]><script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body class="html not-front not-logged-in page-node page-node- page-node-2325 node-type-book context-node responsive-menus-load-processed omega-mediaqueries-processed responsive-layout-normal"><div id="omega-media-query-dummy"><style media="all">#omega-media-query-dummy { position: relative; z-index: -1; }</style><!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-media-query-dummy { z-index: 1; }</style><![endif]--><style media="all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)">#omega-media-query-dummy { z-index: 0; }</style><style media="all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)">#omega-media-query-dummy { z-index: 1; }</style></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-branding-wrapper" class="zone-wrapper zone-branding-wrapper clearfix">  
  <div id="zone-branding" class="zone zone-branding clearfix container-12">
    <div class="grid-12 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="block block-block block-7 block-block-7 odd block-without-title" id="block-block-7">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div class="course-title-container">
	<table><tbody><tr><td><span class="course-title">GEOG 489</span><br><span class="course-name"> Advanced Python Programming for GIS</span></td>
			</tr></tbody></table></div>

<p><a href="http://www.geog.psu.edu/" id="dept" class="ext" target="_blank" rel="noopener noreferrer"><span class="hidden">Geography Department</span></a> <a href="http://www.psu.edu/" id="psu" class="ext" target="_blank" rel="noopener noreferrer"><span class="hidden">Penn State</span></a></p>
    </div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div data-mediasize="720" class="responsive-menus responsive-menus-0-1 absolute"><span class="toggler">☰ Menu</span><ul id="superfish-1" class="menu sf-menu sf-main-menu sf-horizontal sf-style-none sf-total-items-5 sf-parent-items-1 sf-single-items-4 responsive-menus-simple superfish-processed sf-js-enabled"><li id="menu-2069-1" class="first odd sf-item-1 sf-depth-1 sf-no-children"><a href="https://www.e-education.psu.edu/geog489/home.html" class="sf-depth-1">Home</a></li><li id="menu-2077-1" class="middle even sf-item-2 sf-depth-1 sf-no-children"><a href="https://www.e-education.psu.edu/geog489/syllabus" class="sf-depth-1">Syllabus</a></li><li id="menu-2079-1" class="middle odd sf-item-3 sf-depth-1 sf-no-children"><a href="https://www.e-education.psu.edu/geog489/node/1405" class="sf-depth-1">Lessons</a></li><li id="menu-2081-1" class="middle even sf-item-4 sf-depth-1 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="https://www.e-education.psu.edu/geog489/node/2148" class="sf-depth-1 menuparent">Resources</a><ul id="rm-no-id-1" class="rm-no-class sf-hidden" style="float: none; width: 16em;"><li id="menu-2083-1" class="first odd sf-item-1 sf-depth-2 sf-no-children" style=""><a href="https://www.e-education.psu.edu/geog489/node/2057" class="sf-depth-2" style="">Instructor Information</a></li><li id="menu-2084-1" class="middle even sf-item-2 sf-depth-2 sf-no-children" style=""><a href="https://gis.e-education.psu.edu/" class="sf-depth-2 ext" target="_blank" rel="noopener noreferrer" style="">Program Home Page</a></li><li id="menu-2085-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children" style=""><a href="http://guides.libraries.psu.edu/onlinestudentlibraryguide" class="sf-depth-2 ext" target="_blank" rel="noopener noreferrer" style="">Library Resources</a></li><li id="menu-2086-1" class="last even sf-item-4 sf-depth-2 sf-no-children" style=""><a href="https://www.e-education.psu.edu/geog489/node/2060" class="sf-depth-2" style="">Getting Help</a></li></ul></li><li id="menu-2082-1" class="last odd sf-item-5 sf-depth-1 sf-no-children"><a href="https://www.e-education.psu.edu/geog489/login" class="sf-depth-1">Login</a></li></ul></div>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header>    
      <section id="section-content" class="section section-content">
  <div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix">  
  <div id="zone-content" class="zone zone-content clearfix container-12">    
        
        <div class="grid-9 region region-content" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
                <h1 class="title" id="page-title">4.12.6 Create and Integrate New Class QGISEventAndTrackLayerCreator</h1>
                        <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <article class="node node-book node-published node-not-promoted node-not-sticky author-mrs110 odd clearfix" id="node-book-2325">
            
  
  <div class="content clearfix">
    <span class="print-link"><span class="print_html"><a href="https://www.e-education.psu.edu/geog489/print/book/export/html/2325" title="Display a printer-friendly version of this page." class="print-page" rel="nofollow"><img class="print-icon print-icon-margin" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/print_icon.png" alt="Print" title="Print" width="16px" height="16px">Print</a></span></span><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>In
 addition to showing the current bus tracker states in the dock widget, 
we want our plugin to add two new layers to the currently open QGIS 
project that show the progress of the analysis and once the analysis is 
finished contain its results. The two layers will correspond to the two 
output files we produced in the original project in Section 4.10:</p>

<ul><li>a polyline layer showing routes taken by the different bus vehicles with the bus IDs as attribute,</li>
	<li>a point layer showing the detected events with the type of the event and a short description as attributes.</li>
</ul><p>Since we don’t want to just produce these layers at the end of 
the analysis but want these to be there from the start of the analysis 
and continuously update whenever a new bus GPS observation is processed 
or an event is detected, we are going to write some code that reacts to 
the observationProcessed and eventDetected signals emitted by our class 
BusTrackAnalyzer (see the part of Section 4.12.4&nbsp;where we added 
these signals). We will define a new class for all&nbsp;this that will 
be called QGISEventAndTrackLayerCreator and it will be defined in a new 
file qgis_event_and_track_layer_creator.py. The class definition 
consists of the constructor and two methods called <em>addObservationToTrack(…)</em> and <em>addEvent(…)</em> that will be connected to the corresponding signals of the analyzer.</p>

<p>Let’s start with the beginning of the class definition and the 
constructor. All following code needs to be placed in file 
qgis_event_and_track_layer_creator.py that you need to create in the 
plugin folder.</p>

<div><div id="highlighter_529684" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">qgis </code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python keyword">class</code> <code class="python plain">QGISEventAndTrackLayerCreator(): </code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">__init__(</code><code class="python color1">self</code><code class="python plain">): </code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">._features </code><code class="python keyword">=</code> <code class="python plain">{}&nbsp;&nbsp;&nbsp; </code><code class="python comments"># dictionary mapping bus id string to polyline feature in bus track layer&nbsp; </code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">._pointLists </code><code class="python keyword">=</code> <code class="python plain">{}&nbsp; </code><code class="python comments"># dictionary mapping bus id string to list of QgsPointXY objects for creating the poylines from </code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># get project currently open in QGIS </code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">currentProject </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsProject.instance() </code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># create track layer and symbology, then add to current project&nbsp;&nbsp; </code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.trackLayer </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsVectorLayer(</code><code class="python string">'LineString?crs=EPSG:4326&amp;field=BUS_ID:integer'</code><code class="python plain">, </code><code class="python string">'Bus tracks'</code> <code class="python plain">, </code><code class="python string">'memory'</code><code class="python plain">) </code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.trackProv </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.trackLayer.dataProvider() </code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">lineMeta </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsApplication.symbolLayerRegistry().symbolLayerMetadata(</code><code class="python string">"SimpleLine"</code><code class="python plain">) </code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">lineLayer </code><code class="python keyword">=</code> <code class="python plain">lineMeta.createSymbolLayer({</code><code class="python string">'color'</code><code class="python plain">: </code><code class="python string">'0,0,0'</code><code class="python plain">}) </code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">markerMeta </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsApplication.symbolLayerRegistry().symbolLayerMetadata(</code><code class="python string">"MarkerLine"</code><code class="python plain">) </code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">markerLayer </code><code class="python keyword">=</code> <code class="python plain">markerMeta.createSymbolLayer({</code><code class="python string">'width'</code><code class="python plain">: </code><code class="python string">'0.26'</code><code class="python plain">, </code><code class="python string">'color'</code><code class="python plain">: </code><code class="python string">'0,0,0'</code><code class="python plain">, </code><code class="python string">'placement'</code><code class="python plain">: </code><code class="python string">'lastvertex'</code><code class="python plain">}) </code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">symbol </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsSymbol.defaultSymbol(</code><code class="python color1">self</code><code class="python plain">.trackLayer.geometryType()) </code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">symbol.deleteSymbolLayer(</code><code class="python value">0</code><code class="python plain">) </code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">symbol.appendSymbolLayer(lineLayer) </code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">symbol.appendSymbolLayer(markerLayer) </code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">trackRenderer </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsSingleSymbolRenderer(symbol) </code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.trackLayer.setRenderer(trackRenderer) </code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">currentProject.addMapLayer(</code><code class="python color1">self</code><code class="python plain">.trackLayer) </code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># create event layer and symbology, then add to current project </code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.eventLayer </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsVectorLayer(</code><code class="python string">'Point?crs=EPSG:4326&amp;field=TYPE:string(50)&amp;field=INFO:string(255)'</code><code class="python plain">, </code><code class="python string">'Bus events'</code> <code class="python plain">, </code><code class="python string">'memory'</code><code class="python plain">) </code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.eventProv </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.eventLayer.dataProvider() </code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">colors </code><code class="python keyword">=</code> <code class="python plain">{ </code><code class="python string">"BusEncounterEvent"</code><code class="python plain">: </code><code class="python string">'yellow'</code><code class="python plain">, </code><code class="python string">"BusStoppedEvent"</code><code class="python plain">: </code><code class="python string">'orange'</code><code class="python plain">, </code><code class="python string">"EnteringDepotEvent"</code><code class="python plain">: </code><code class="python string">'blue'</code><code class="python plain">, </code><code class="python string">"LeavingDepotEvent"</code><code class="python plain">: </code><code class="python string">'green'</code> <code class="python plain">} </code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">categories </code><code class="python keyword">=</code> <code class="python plain">[] </code></div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">ev </code><code class="python keyword">in</code> <code class="python plain">colors: </code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">categories.append( qgis.core.QgsRendererCategory( ev, qgis.core.QgsMarkerSymbol.createSimple({</code><code class="python string">'name'</code><code class="python plain">: </code><code class="python string">'square'</code><code class="python plain">, </code><code class="python string">'size'</code><code class="python plain">: </code><code class="python string">'3.0'</code><code class="python plain">, </code><code class="python string">'color'</code><code class="python plain">: colors[ev]}), ev )) </code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">eventRenderer </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsCategorizedSymbolRenderer(</code><code class="python string">"TYPE"</code><code class="python plain">, categories) </code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.eventLayer.setRenderer(eventRenderer) </code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">currentProject.addMapLayer(</code><code class="python color1">self</code><code class="python plain">.eventLayer) </code></div></div></td></tr></tbody></table></div></div>

<p>To be able to build polylines for the bus tracks and update these 
whenever a new observation has been processed by the analyzer, we need 
to maintain dictionaries with the QGIS features and point lists for each
 bus vehicle track. These are created at the beginning of the 
constructor code in lines 6 and 7. In addition, the constructor accesses
 the currently open QGIS project (line 10) and adds to the two new 
layers called “Bus tracks” and “Bus events” to it (lines 29 and 44). The
 rest of the code is mainly for setting the symbology of these two 
layers: For the track layer, we use black lines with a red circle marker
 at the end to indicate the current location of the vehicle (lines 
16&nbsp;to 27) as shown in the image below. For the events, we use 
square markers in different colors based on the TYPE of the event (lines
 35 to 42).</p>

<div class="img-center"><img alt=" Screenshot of what the text content above describes. Tracks marked with bus events" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/L4_QGIS_symbologies_0.jpg"> &nbsp; &nbsp; &nbsp;
	<div class="img-caption">Figure 4.47 QGIS symbology used for the bus track and event layers</div>
</div>

<p>Now we are going to add the definition of the method <em>addObservationToTrack(…)</em> that will be connected to the observationProcessed signal emitted when the analyzer object has completed the execution of <em>nextStep</em><em>()</em>.</p>

<div><div id="highlighter_621003" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">addObservationToTrack(</code><code class="python color1">self</code><code class="python plain">, observation): </code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""add new vertex to a bus polyline based on the given Observation object"""</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">busId </code><code class="python keyword">=</code> <code class="python plain">observation.busTracker.bus.busId; </code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># create new point for this observation </code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">p </code><code class="python keyword">=</code>&nbsp; <code class="python plain">qgis.core.QgsPointXY(observation.timepoint.lon, observation.timepoint.lat) </code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># add point to point list and (re)create polyline geometry </code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">busId </code><code class="python keyword">in</code> <code class="python color1">self</code><code class="python plain">._features:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments"># we already have a point list and polyline feature for this bus </code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">._features[busId] </code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">points </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">._pointLists[busId] </code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">points.append(p) </code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># recreate polyline geometry and replace in layer </code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">polyline </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsGeometry.fromPolylineXY(points) </code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.trackProv.changeGeometryValues({feat.</code><code class="python functions">id</code><code class="python plain">(): polyline}) </code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments"># new bus id we haven't seen before </code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># create new&nbsp; polyline and feature&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">polyline </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsGeometry.fromPolylineXY([p]) </code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsFeature() </code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat.setGeometry(polyline) </code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat.setAttributes([</code><code class="python functions">int</code><code class="python plain">(busId)]) </code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">_, f </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.trackProv.addFeatures([feat]) </code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># store point list and polyline feature in respective dictionaries </code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">._features[busId] </code><code class="python keyword">=</code> <code class="python plain">f[</code><code class="python value">0</code><code class="python plain">] </code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">._pointLists[busId] </code><code class="python keyword">=</code> <code class="python plain">[p] </code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># force redraw of layer </code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.trackLayer.triggerRepaint() </code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">qgis.utils.iface.mapCanvas().refresh()</code></div></div></td></tr></tbody></table></div></div>

<p>The Observation object given to this method as a parameter provides 
us with access to all the relevant information we need to update the 
polyline feature for the bus this observation is about. First, we 
extract the ID of the bus (line 3) and create a new QgsPointXY object 
from the Timepoint stored in the Observation object (line 6). If we 
already have a polyline feature for this vehicle, we get the 
corresponding feature and point lists from the <em>features</em> and <em>pointLists</em>
 dictionaries, add the new point to the point list and create a new 
polyline geometry from it, and finally change the geometry of that 
feature in the bus track layer to this new geometry (lines 10 to 16). If
 instead this is the first observation of this vehicle, we create a 
point list for it to be stored in the <em>pointList</em> dictionary as 
well as a new polyline geometry with just that single point,&nbsp;and we
 then set up a new QgsFeature object for this polyline that is added to 
the bus track layer and also the features dictionary (lines 19 to 27). 
At the very end of the method, we make sure that the layer is repainted 
in the QGIS map canvas.</p>

<p>Now we add the code for the <em>addEvent(…)</em> method completing the definition of our class QGISEventAndTrackLayerCreator:</p>

<div><div id="highlighter_326691" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">addEvent(</code><code class="python color1">self</code><code class="python plain">, busEvent): </code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""add new event point feature to event layer based on the given BusEvent object"""</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># create point feature with information from busEvent </code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">p </code><code class="python keyword">=</code>&nbsp; <code class="python plain">qgis.core.QgsPointXY(busEvent.timepoint.lon, busEvent.timepoint.lat) </code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat </code><code class="python keyword">=</code> <code class="python plain">qgis.core.QgsFeature() </code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat.setGeometry(qgis.core.QgsGeometry.fromPointXY(p)) </code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">feat.setAttributes([</code><code class="python functions">type</code><code class="python plain">(busEvent).__name__, busEvent.description()]) </code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># add feature to event layer and force redraw </code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.eventProv.addFeatures([feat]) </code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.eventLayer.triggerRepaint() </code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">qgis.utils.iface.mapCanvas().refresh()</code></div></div></td></tr></tbody></table></div></div>

<p>This method is much simpler because we don’t have to modify existing 
features in the layer but rather always add one new point feature to the
 event layer. All information required for this is taken from the bus 
event object given as a parameter: The coordinates for the next point 
feature are taken from the Timepoint stored in the event object (line 
4), for the TYPE field of the event we take the type of the event object
 (line 7), and for the INFO field we take the string returned by calling
 the event object’s <em>description(…)</em> method (also line 7).</p>

<p>To incorporate this new class into our current plugin, we need to 
make a few more modification to the class 
BusTrackAnalyzerForQGISDockWidget in file 
bus_track_analyzer_for_qgis_dock_widget.py. Here are the instructions 
for this:</p>

<ol><li>Remove the # at the beginning of the line “from 
.qgis_event_and_track_layer_creator import …” to uncomment this line and
 import our new class.</li>
	<li>Now we add a new auxiliary method to the class definition that has 
the purpose of creating an object of our new class 
BusTrackAnalyzerForQGISDockWidget and connecting its methods to the 
corresponding signals of the analyzer object. Add the following 
definition as the first method after the “closeEvent” method, so 
directly after the comment “# own methods added to the template file”.
		<div><div id="highlighter_938986" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">createLayerCreator(</code><code class="python color1">self</code><code class="python plain">): </code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""creates a new QGISEventAndTrackLayerCreator for showing events and tracks on main QGIS window and connects it to analyzer"""</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.layerCreator </code><code class="python keyword">=</code> <code class="python plain">QGISEventAndTrackLayerCreator() </code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.analyzer.observationProcessed.connect(</code><code class="python color1">self</code><code class="python plain">.layerCreator.addObservationToTrack) </code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.analyzer.eventDetected.connect(</code><code class="python color1">self</code><code class="python plain">.layerCreator.addEvent) </code></div></div></td></tr></tbody></table></div></div>

		<p>We already set up an instance variable <em>layerCreator</em> in the
 constructor code and we are using it here for storing the newly created
 layer creator object. Then we connect the signals to the two methods of
 the layer creator object.</p>
	</li>
	<li>Now we just need to uncomment two lines to make sure that the method <em>createLayerCreator()</em>
 is called at the right places, namely after we read in data from the 
input files and when the analyzer is resetted. In both cases, we want to
 create a new layer creator object that will set up two new layers in 
the current QGIS project. The lines that you need to uncomment for this 
by removing the leading # are:
		<ul><li>the line “# self.createLayerCreator()” in method <em>readData()</em></li>
			<li>the line “# self.createLayerCreator()” in method <em>reset()</em></li>
		</ul><p>You should make sure that the indentation is correct after removing the hashmarks.</p>
	</li>
</ol><p>That’s it, we are done with the code for our plugin!</p>
</div></div></div>  <div id="book-navigation-1405" class="book-navigation">
    
        <div class="page-links clearfix">



              <a href="https://www.e-education.psu.edu/geog489/node/2322" class="page-previous" title="Go to previous page">‹ 4.12.5 Implement Main Functionality in BusTrackAnalyzerForQGISDockWidget class</a>
      
              <a href="https://www.e-education.psu.edu/geog489/node/2316" class="page-up" title="Go to parent page">up</a>
      


              <a href="https://www.e-education.psu.edu/geog489/node/2359" class="page-next" title="Go to next page">4.12.7 Try It Out ›</a>
      

    </div>
    
  </div>
  </div>
  
  <div class="clearfix">
          <nav class="links node-links clearfix"></nav>
    
      </div>
</article>    </div>
  </div>
</div>      </div>
</div><aside class="grid-3 region region-sidebar-first" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-block block-6 block-block-6 odd block-without-title" id="block-block-6">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div id="coursetitleright"><span class="coursenumber">GEOG 489:</span> <span class="coursetitle"> Advanced Python Programming for GIS</span></div>
    </div>
  </div>
</div><div class="block block-search block-form block-search-form even block-without-title" id="block-search-form">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <form action="/geog489/node/2325" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." id="edit-search-block-form--2" name="search_block_form" size="15" maxlength="128" class="form-text" type="text">
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input id="edit-submit" name="op" value="Search" class="form-submit" type="submit"></div><input name="form_build_id" value="form-eCMsTz2eheDm8QisPTh4NvA8f6pgAuV00Bej-X3PLjk" type="hidden">
<input name="form_id" value="search_block_form" type="hidden">
</div>
</div></form>    </div>
  </div>
</div><section class="block block-menu-block block-4 block-menu-block-4 odd" id="block-menu-block-4">
  <div class="block-inner clearfix">
              <h2 class="block-title">Lessons</h2>
            
    <div class="content clearfix">
      <div class="menu-block-wrapper menu-block-4 menu-name-book-toc-1405 parent-mlid-244 menu-level-1">
  <ul class="menu"><li class="first collapsed menu-mlid-289"><a href="https://www.e-education.psu.edu/geog489/l1.html">Lesson 1 Python 3, ArcGIS Pro &amp; Multiprocessing</a></li>
<li class="collapsed menu-mlid-280"><a href="https://www.e-education.psu.edu/geog489/l2.html">Lesson 2 GUI Development with PyQt5 and Package Management</a></li>
<li class="collapsed menu-mlid-271"><a href="https://www.e-education.psu.edu/geog489/l3.html">Lesson 3 Python Geo and Data Science Packages &amp; Jupyter Notebooks</a></li>
<li class="leaf menu-mlid-2981"><a href="https://www.e-education.psu.edu/geog489/node/2362">Final Project Proposal Assignment</a></li>
<li class="expanded active-trail menu-mlid-260"><a href="https://www.e-education.psu.edu/geog489/l4.html" class="active-trail">Lesson 4 Object-Oriented Programming in Python and QGIS Development</a><ul class="menu"><li class="first leaf menu-mlid-266"><a href="https://www.e-education.psu.edu/geog489/l4_p2.html">4.1 Overview and Checklist</a></li>
<li class="collapsed menu-mlid-2971"><a href="https://www.e-education.psu.edu/geog489/node/2349">4.2 Collections and Sorting</a></li>
<li class="leaf menu-mlid-268"><a href="https://www.e-education.psu.edu/geog489/l4_p3.html">4.3 Open source desktop GIS software</a></li>
<li class="collapsed menu-mlid-263"><a href="https://www.e-education.psu.edu/geog489/l4_p4.html">4.4 QGIS: A Brief Overview</a></li>
<li class="collapsed menu-mlid-262"><a href="https://www.e-education.psu.edu/geog489/l4_p5.html">4.5 The QGIS Scripting Interface and Python API</a></li>
<li class="collapsed menu-mlid-264"><a href="https://www.e-education.psu.edu/geog489/l4_p6.html">4.6 Object-Oriented Programming in Python</a></li>
<li class="collapsed menu-mlid-261"><a href="https://www.e-education.psu.edu/geog489/l4_p7.html">4.7 Inheritance, Class Hierarchies and Polymorphism</a></li>
<li class="leaf menu-mlid-2980"><a href="https://www.e-education.psu.edu/geog489/node/2361">4.8 Class Attributes and Static Class Functions</a></li>
<li class="collapsed menu-mlid-2930"><a href="https://www.e-education.psu.edu/geog489/node/2306">4.9 Inheritance in GUI Programming</a></li>
<li class="collapsed menu-mlid-267"><a href="https://www.e-education.psu.edu/geog489/l4_p8.html">4.10 Walkthrough I: A Bus Track Analyzer for GPS Data of Dublin Buses</a></li>
<li class="collapsed menu-mlid-269"><a href="https://www.e-education.psu.edu/geog489/l4_p9.html">4.11 Optional: Writing QGIS Plugins</a></li>
<li class="expanded active-trail menu-mlid-2940"><a href="https://www.e-education.psu.edu/geog489/node/2316" class="active-trail">4.12 Optional: Turning the Bus Event Analyzer into a QGIS Plugin</a><ul class="menu"><li class="first leaf menu-mlid-2942"><a href="https://www.e-education.psu.edu/geog489/node/2318">4.12.1 Create Template with Plugin Builder</a></li>
<li class="leaf menu-mlid-2943"><a href="https://www.e-education.psu.edu/geog489/node/2319">4.12.2  Copy Files into Plugin Folder</a></li>
<li class="leaf menu-mlid-2944"><a href="https://www.e-education.psu.edu/geog489/node/2320">4.12.3 Adapt the GUI with QT Designer</a></li>
<li class="leaf menu-mlid-2945"><a href="https://www.e-education.psu.edu/geog489/node/2321">4.12.4 Modifications to the Original Project Files</a></li>
<li class="leaf menu-mlid-2946"><a href="https://www.e-education.psu.edu/geog489/node/2322">4.12.5 Implement Main Functionality in BusTrackAnalyzerForQGISDockWidget class</a></li>
<li class="leaf active-trail active menu-mlid-2949"><a href="https://www.e-education.psu.edu/geog489/node/2325" class="active-trail active">4.12.6 Create and Integrate New Class QGISEventAndTrackLayerCreator</a></li>
<li class="last leaf menu-mlid-2978"><a href="https://www.e-education.psu.edu/geog489/node/2359">4.12.7 Try It Out</a></li>
</ul></li>
<li class="collapsed menu-mlid-2954"><a href="https://www.e-education.psu.edu/geog489/node/2330">4.13 Lesson 4 Practice Exercise</a></li>
<li class="last leaf menu-mlid-2979"><a href="https://www.e-education.psu.edu/geog489/node/2360">4.14 Lesson 4 Assignment</a></li>
</ul></li>
<li class="last leaf menu-mlid-245"><a href="https://www.e-education.psu.edu/geog489/l6.html">Term Project </a></li>
</ul></div>
    </div>
  </div>
</section><section class="block block-user block-online block-user-online even" id="block-user-online">
  <div class="block-inner clearfix">
              <h2 class="block-title">Who's online</h2>
            
    <div class="content clearfix">
      <p>There are currently 0 users online.</p>    </div>
  </div>
</section>  </div>
</aside>  </div>
</div></section>    
  
      <footer id="section-footer" class="section section-footer">
  <div id="zone-course-footer-wrapper" class="zone-wrapper zone-course-footer-wrapper clearfix">  
  <div id="zone-course-footer" class="zone zone-course-footer clearfix container-12">
    <div class="grid-12 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-3 block-block-3 odd block-without-title" id="block-block-3">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p>Authors and/or Instructors: James O'Brien, John A. Dutton 
e-Education Institute, College of Earth and Mineral Sciences, The 
Pennsylvania State University</p>
<p>Jan Oliver Wallgrün, John A. Dutton e-Education Institute, College of
 Earth and Mineral Sciences, The Pennsylvania State University</p>
<p>Jim Detwiler, John A. Dutton e-Education Institute, College of Earth and Mineral Sciences, The Pennsylvania State University</p>
<p>Andrew Murdoch, John A. Dutton e-Education Institute, College of Earth and Mineral Sciences, The Pennsylvania State University</p>
<p></p><p>This courseware module is part of Penn State's College of Earth and Mineral Sciences' <a href="http://open.ems.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">OER Initiative<span class="ext" aria-label="(link is external)"></span></a>.</p>

<p>Except where otherwise noted, content on this site is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" class="ext" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License<span class="ext" aria-label="(link is external)"></span></a>.</p>

<p>The College of Earth and Mineral Sciences is committed to making its 
websites accessible to all users, and welcomes comments or suggestions 
on access improvements. Please send comments or suggestions on 
accessibility to the <a href="mailto:editor@e-education.psu.edu?subject=Question/Feedback%20for%20GEOG%20489" class="mailto">site editor<span class="mailto" aria-label="(link sends e-mail)"></span></a>. The site editor may also be contacted with questions or comments about this Open Educational Resource.</p>

    </div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-dutton-footer-wrapper" class="zone-wrapper zone-dutton-footer-wrapper clearfix">  
  <div id="zone-dutton-footer" class="zone zone-dutton-footer clearfix container-12">
    <div class="grid-12 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p></p><div class="clearfix" id="dutton_footer">
	<div class="col1"><a href="http://www.e-education.psu.edu/"><img alt="John A. Dutton e-Education Institute" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/dutton_logo_revised.png"></a>
		<p>The John A. Dutton e-Education Institute is the learning design unit of the <a href="http://www.ems.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">College of Earth and Mineral Sciences<span class="ext" aria-label="(link is external)"></span></a> at <a href="http://www.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">The Pennsylvania State University<span class="ext" aria-label="(link is external)"></span></a>.</p>
	</div>

	<div class="col2">
		<h3>Navigation</h3>

		<ul><li><a href="http://www.e-education.psu.edu/">Home</a></li>
			<li><a href="http://www.e-education.psu.edu/news">News</a></li>
			<li><a href="http://www.e-education.psu.edu/about">About</a></li>
			<li><a href="http://www.e-education.psu.edu/contact">Contact Us</a></li>
			<li><a href="http://www.e-education.psu.edu/node/4">Programs and Courses</a></li>
			<li><a href="http://www.e-education.psu.edu/node/3">People</a></li>
			<li><a href="http://www.e-education.psu.edu/node/5">Resources</a></li>
			<li><a href="http://www.e-education.psu.edu/node/6">Services</a></li>
			<li><a href="https://www.e-education.psu.edu/geog489/user">Login</a></li>
		</ul></div>

	<div class="col3">
		<h3>EMS</h3>

		<ul><li><a href="http://www.ems.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">College of Earth and Mineral Sciences<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.eme.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Department of Energy and Mineral Engineering<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.geog.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Department of Geography<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.geosc.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Department of Geosciences<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.matse.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Department of Materials Science and Engineering<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.met.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Department of Meteorology and Atmospheric Science<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.eesi.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Earth and Environmental Systems Institute<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.energy.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Energy Institute<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.iee.psu.edu/ingar" class="ext" target="_blank" rel="noopener noreferrer">Institute for National Gas Research<span class="ext" aria-label="(link is external)"></span></a></li>
		</ul></div>

	<div class="col4">
		<h3>Programs</h3>

		<ul><li><a href="http://gis.e-education.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Online Geospatial Education Programs<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://ress.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">iMPS in Renewable Energy and Sustainability Policy Program Office<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://esp.e-education.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">BA in Energy and Sustainability Policy Program Office<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://earth.e-education.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">M.Ed. in Earth Sciences Program Office<span class="ext" aria-label="(link is external)"></span></a></li>
		</ul></div>

	<div class="col5">
		<h3>Related Links</h3>

		<ul><li><a href="https://www.yammer.com/psu.edu/#/threads/inGroup?type=in_group&amp;feedId=1099225" class="ext" target="_blank" rel="noopener noreferrer">Dutton Community Yammer Group<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://dlc.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Penn State Digital Learning Cooperative<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="http://www.worldcampus.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Penn State World Campus<span class="ext" aria-label="(link is external)"></span></a></li>
			<li><a href="https://weblearning.psu.edu/" class="ext" target="_blank" rel="noopener noreferrer">Web Learning @ Penn State<span class="ext" aria-label="(link is external)"></span></a></li>
		</ul></div>
</div>

<p></p>
<style id="8777" type="text/css">
<!--/*--><![CDATA[/* ><!--*/

<!--/*--><![CDATA[/* ><!--*/
@namespace url(http://www.w3.org/1999/xhtml);

/*--><!]]]]><![CDATA[>*/

/*--><!]]>*/
</style><style id="3179" type="text/css">
<!--/*--><![CDATA[/* ><!--*/

<!--/*--><![CDATA[/* ><!--*/
@namespace url(http://www.w3.org/1999/xhtml);

/*--><!]]]]><![CDATA[>*/

/*--><!]]>*/
</style><style id="8727" type="text/css">
<!--/*--><![CDATA[/* ><!--*/

<!--/*--><![CDATA[/* ><!--*/
@namespace url(http://www.w3.org/1999/xhtml);

/*--><!]]]]><![CDATA[>*/

/*--><!]]>*/
</style>    </div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-penn-state-footer-wrapper" class="zone-wrapper zone-penn-state-footer-wrapper clearfix">  
  <div id="zone-penn-state-footer" class="zone zone-penn-state-footer clearfix container-12">
    <div class="grid-12 region region-footer-third" id="region-footer-third">
  <div class="region-inner region-footer-third-inner">
    <div class="block block-block block-5 block-block-5 odd block-without-title" id="block-block-5">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p></p><div class="clearfix" id="psu_footer">
	<div class="col1"><a href="http://www.psu.edu/" target="_blank" rel="noopener noreferrer"><img alt="Penn State home page" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/psu_logo.png" style="width: 135px; height: 61px;"></a></div>

	<div class="col2">
		<p><a href="https://goo.gl/maps/9SC1XJVPTqD2" class="ext" target="_blank" rel="noopener noreferrer">2217 Earth and Engineering Sciences Building, University Park, Pennsylvania 16802<span class="ext" aria-label="(link is external)"></span></a><br><a href="http://www.psu.edu/contact-us" class="ext" target="_blank" rel="noopener noreferrer">Contact Us<span class="ext" aria-label="(link is external)"></span></a></p>
	</div>

	<div class="col3">
		<p><a href="http://www.psu.edu/web-privacy-statement" class="ext" target="_blank" rel="noopener noreferrer">Privacy &amp; Legal Statements<span class="ext" aria-label="(link is external)"></span></a> | <a href="http://www.psu.edu/copyright-information" class="ext" target="_blank" rel="noopener noreferrer">Copyright Information<span class="ext" aria-label="(link is external)"></span></a><br>
			The Pennsylvania State University © 2018</p>
	</div>
</div>

    </div>
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <script type="text/javascript" src="4.12.6%20Create%20and%20Integrate%20New%20Class%20QGISEventAndTrackLayerCreator%20%7C%20GEOG%20489:%20Advanced%20Python%20Programming%20for%20GIS_arquivos/syntaxhighlighter.js"></script>


</body></html>