<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Installing the GeoServer Active Clustering Extension — GeoServer Training</title>
    
    <link rel="stylesheet" href="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/geosolutions.css" type="text/css">
    <link rel="stylesheet" href="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.17.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/jquery.js"></script>
    <script type="text/javascript" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/underscore.js"></script>
    <script type="text/javascript" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/doctools.js"></script>
    <link rel="top" title="GeoServer Training" href="https://docs.geoserver.geo-solutions.it/edu/en/index.html">
    <link rel="up" title="GeoServer Active Clustering" href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/index.html">
    <link rel="next" title="Configuring the GeoServer Active Clustering Extension" href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/usage.html">
    <link rel="prev" title="More details on the Active Clustering Extension" href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/description.html">
    

  </head>
  <body role="document">
    <div class="header">
        <div class="wrap">
			
            <div class="logo">
			<a href="https://www.geosolutionsgroup.com/"><img src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/geosolutions.png" alt="GeoSolutions"></a>
			<div class="social-container"> 
				<ul id="social">
					<li><a href="https://twitter.com/geosolutions_it/" id="twitter">Twitter</a></li>
				</ul>
			</div>
			</div>
					
            <h2 class="docstitle"><a href="https://docs.geoserver.geo-solutions.it/edu/en/index.html">GeoServer Training</a></h2>
			
        </div>
    </div>


      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="https://docs.geoserver.geo-solutions.it/edu/en/index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing the GeoServer Active Clustering Extension</a><ul>
<li><a class="reference internal" href="#downloading">Downloading</a></li>
<li><a class="reference internal" href="#installing">Installing</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/description.html" title="previous chapter">More details on the Active Clustering Extension</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/usage.html" title="next chapter">Configuring the GeoServer Active Clustering Extension</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="https://docs.geoserver.geo-solutions.it/edu/en/_sources/clustering/clustering/active/installation.txt" rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-clustering.active.installation"></span><p id="clustering-active-installation">We are now going to look into the basic steps for performing the installation of the GeoServer Active Clustering Extension.</p>
<div class="section" id="installing-the-geoserver-active-clustering-extension">
<h1>Installing the GeoServer Active Clustering Extension<a class="headerlink" href="#installing-the-geoserver-active-clustering-extension" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The GeoServer available in the training already have the clustering extension installed, the following information is
provided for reference. However, remember to do the last step, “Configuration”, as the clustering extension is not active
in the training GeoServer instances yet.</p>
</div>
<div class="section" id="downloading">
<h2>Downloading<a class="headerlink" href="#downloading" title="Permalink to this headline">¶</a></h2>
<p>For the version compatible with the GeoServer 2.13.x contained in this training point your browser here:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">build</span><span class="o">.</span><span class="n">geoserver</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">geoserver</span><span class="o">/</span><span class="mf">2.13</span><span class="o">.</span><span class="n">x</span><span class="o">/</span><span class="n">community</span><span class="o">-</span><span class="n">latest</span><span class="o">/</span>
</pre></div>
</div>
<p>You’ll find 2 different packages:</p>
<blockquote>
<div><ol class="arabic simple">
<li>geoserver-2.13-SNAPSHOT-jms-cluster-plugin.zip</li>
<li>geoserver-2.13-SNAPSHOT-activeMQ-broker-plugin.zip</li>
</ol>
</div></blockquote>
<p>The <strong>activeMQ-broker-plugin</strong> is a actually standalone 
minimal ActiveMQ MOM web application packaged as a WAR file, ready to be
 dropped in a web container (e.g., Tomcat).
This is useful if you want to run with a standalone broker.</p>
<p>The <strong>cluster plugin</strong> adds all the functionalities to GeoServer to work as master or slave.</p>
</div>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<p>Likewise other GeoServer extensions you can install the Active Clustering Extension by:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Stopping GeoServer</li>
<li>Dropping the jms-cluster-plugin JARs inside the WEB-INF/lib directory</li>
<li>Restarting GeoServer</li>
</ol>
</div></blockquote>
<p>These steps must be performed <strong>for each geoserver instance which compose the cluster</strong>, regardless of the role the instance will take (master or slave).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The GeoServer used the training material already contains the clustering extension</p>
</div>
<p>Once the extension is installed you should be able to see a new section in the GeoServer user interface called <strong>Cluster  configuration</strong> as shown below.</p>
<div class="figure align-center" id="id1">
<img alt="Illustration: GeoServer Active Clustering settings icon" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/Clustering_menu.png">
<p class="caption"><span class="caption-text">Illustration: GeoServer Active Clustering settings icon</span></p>
</div>
<p>By default the GeoServer start with the following configuration when the clustering extension is installed as is:</p>
<blockquote>
<div><ol class="arabic simple">
<li>An embedded Broker is started from within the GeoServer Java process</li>
<li>GeoServer connects to the embedded broker</li>
<li>GeoServer acts both as <strong>Master</strong> as well as <strong>Slave</strong></li>
<li>A randomized <strong>unique</strong> (within the cluster) name is generated</li>
<li>A <strong>cluster</strong> folder is created under the GeoServer data directory</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="configuration">
<span id="cluster-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>If you click on the <strong>Cluster settings</strong> link in a training GeoServer you will find the clustering extension is disabled:</p>
<div class="figure align-center" id="id2">
<img alt="Illustration: GeoServer Active Clustering settings options page" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/Clustering_settings_training.png">
<p class="caption"><span class="caption-text">Illustration: GeoServer Active Clustering settings options page, clustering disabled</span></p>
</div>
<p>We are going to enable all the options. Perform the changes <em>in this order</em> (the changes are applied immediately, so the order is important):</p>
<ul class="simple">
<li>Enable the embedded broker</li>
<li>Enable master</li>
<li>Enable slave</li>
<li>Enable slave connection</li>
<li><em>Do not</em> enable the “read only” toggle</li>
</ul>
<p>The result will be:</p>
<div class="figure align-center" id="id3">
<img alt="Illustration: GeoServer Active Clustering settings options page" src="Installing%20the%20GeoServer%20Active%20Clustering%20Extension%20%E2%80%94%20GeoServer%20Training_arquivos/Clustering_settings.png">
<p class="caption"><span class="caption-text">Illustration: GeoServer Active Clustering settings options page</span></p>
</div>
<p>Save the configuration to enable the clustering extension.</p>
<p>The default installation of the GeoServer Active Clustering Extension will turn your GeoServer instance into:</p>
<blockquote>
<div><ul class="simple">
<li>A running Master/Slave node with the ability to write to its data directory</li>
<li>An embedded Broker, which means that your instance will host an embedded version of messaging broker</li>
</ul>
</div></blockquote>
<p>To be more specific the GeoServer instances when acting as a Master 
will publish configuration changes to its own embedded broker which in 
turn is configured to automatically discover other Broker in the same 
network via <strong>Multicast</strong> (make sure you netadmin is happy 
about this) and spread the changes over to them as well as to all the 
GeoServer instances connected to them as Slaves.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Long story short, by default the extension can be used 
to create a peer-to-peer network of Master/Slave GeoServer instances 
with private data directory</p>
</div>
<p>Let’s now move on and provide more details about how to configure and use the GeoServer Active Clustering Extension.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
            <li class="right" style="margin-right: 10px">
              <a href="https://docs.geoserver.geo-solutions.it/edu/en/genindex.html" title="General Index" accesskey="I">index</a></li>
            <li class="right">
              <a href="https://docs.geoserver.geo-solutions.it/edu/en/py-modindex.html" title="Python Module Index">modules</a> |</li>
            <li class="right">
              <a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/usage.html" title="Configuring the GeoServer Active Clustering Extension" accesskey="N">next</a> |</li>
            <li class="right">
              <a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/description.html" title="More details on the Active Clustering Extension" accesskey="P">previous</a> |</li>
        <li><a href="https://docs.geoserver.geo-solutions.it/edu/en/index.html">GeoServer Training</a> »</li>
          <li><a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/index.html">Clustering GeoServer</a> »</li>
          <li><a href="https://docs.geoserver.geo-solutions.it/edu/en/clustering/clustering/active/index.html" accesskey="U">GeoServer Active Clustering</a> »</li>
        <li><a href="#">Installing the GeoServer Active Clustering Extension</a></li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        © Copyright 2020, GeoSolutions.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.2.
    </div>
  
</body></html>